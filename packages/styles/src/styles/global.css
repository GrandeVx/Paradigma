@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base styles that will be shared across all platforms */
@layer base {
  :root {
    /* Black & White */
    --black: #000000;
    --white: #FFFFFF;

    /* Grey Scale */
    --grey-50: #F9FAFB;
    --grey-100: #F3F4F6;
    --grey-200: #E5E7EB;
    --grey-300: #D1D5DB;
    --grey-400: #9CA3AF;
    --grey-500: #6B7280;
    --grey-600: #4B5563;
    --grey-700: #374151;
    --grey-800: #1F2937;
    --grey-900: #111827;
    --grey-950: #030712;

    /* Primary Colors */
    --primary-50: #EDF8FF;
    --primary-100: #D6EDFF;
    --primary-200: #B5E2FF;
    --primary-300: #83D2FF;
    --primary-400: #48B7FF;
    --primary-500: #1E94FF;
    --primary-600: #0673FF;
    --primary-700: #005EFD;
    --primary-800: #0849C5;
    --primary-900: #0D429B;
    --primary-950: #0E295D;

    /* Secondary Colors */
    --secondary-orange-500: #FD9F00;
    --secondary-lime-500: #C8FE28;

    /* State Colors - Light Mode */
    --success-50: #F0FDF4;
    --success-100: #DCFCE7;
    --success-200: #BBF7D0;
    --success-300: #86EFAC;
    --success-400: #4ADE80;
    --success-500: #66BD50;
    --success-600: #16A34A;
    --success-700: #15803D;
    --success-800: #166534;
    --success-900: #14532D;
    --success-950: #0A2A0F;

    --error-50: #FEF2F2;
    --error-100: #FEE2E2;
    --error-200: #FECACA;
    --error-300: #FCA5A5;
    --error-400: #F87171;
    --error-500: #DE4841;
    --error-600: #DC2626;
    --error-700: #B91C1C;
    --error-800: #991B1B;
    --error-900: #7F1D1D;
    --error-950: #4C1D1D;

    --warning-50: #FFFBEB;
    --warning-100: #FEF3C7;
    --warning-200: #FDE68A;
    --warning-300: #FCD34D;
    --warning-400: #FBBF24;
    --warning-500: #EBBC46;
    --warning-600: #D97706;
    --warning-700: #B45309;
    --warning-800: #92400E;
    --warning-900: #78350F;
    --warning-950: #451A03;

    --info-50: #EFF6FF;
    --info-100: #DBEAFE;
    --info-200: #BFDBFE;
    --info-300: #93C5FD;
    --info-400: #60A5FA;
    --info-500: #3B82F6;
    --info-600: #2563EB;
    --info-700: #1D4ED8;
    --info-800: #1E40AF;
    --info-900: #1E3A8A;
    --info-950: #172554;

    /* Category Colors - Enhanced with full spectrum */
    --orange-50: #FFF7ED;
    --orange-100: #FFEDD5;
    --orange-200: #FED7AA;
    --orange-300: #FDBA74;
    --orange-400: #FB923C;
    --orange-500: #FDA000;
    --orange-600: #EA580C;
    --orange-700: #C2410C;
    --orange-800: #9A3412;
    --orange-900: #7C2D12;
    --orange-950: #431407;

    --red-50: #FEF2F2;
    --red-100: #FEE2E2;
    --red-200: #FECACA;
    --red-300: #FCA5A5;
    --red-400: #F87171;
    --red-500: #E13141;
    --red-600: #DC2626;
    --red-700: #B91C1C;
    --red-800: #991B1B;
    --red-900: #7F1D1D;
    --red-950: #4C1D1D;

    --pink-50: #FDF2F8;
    --pink-100: #FCE7F3;
    --pink-200: #FBCFE8;
    --pink-300: #F9A8D4;
    --pink-400: #F472B6;
    --pink-500: #FA6997;
    --pink-600: #DB2777;
    --pink-700: #BE185D;
    --pink-800: #9D174D;
    --pink-900: #831843;
    --pink-950: #500724;

    --sky-50: #F0F9FF;
    --sky-100: #E0F2FE;
    --sky-200: #BAE6FD;
    --sky-300: #7DD3FC;
    --sky-400: #38BDF8;
    --sky-500: #4D9FF8;
    --sky-600: #0284C7;
    --sky-700: #0369A1;
    --sky-800: #075985;
    --sky-900: #0C4A6E;
    --sky-950: #082F49;

    --purple-50: #FAF5FF;
    --purple-100: #F3E8FF;
    --purple-200: #E9D5FF;
    --purple-300: #D8B4FE;
    --purple-400: #C084FC;
    --purple-500: #7E01FB;
    --purple-600: #9333EA;
    --purple-700: #7C3AED;
    --purple-800: #6B21A8;
    --purple-900: #581C87;
    --purple-950: #3B0764;

    --green-50: #F0FDF4;
    --green-100: #DCFCE7;
    --green-200: #BBF7D0;
    --green-300: #86EFAC;
    --green-400: #4ADE80;
    --green-500: #03965E;
    --green-600: #16A34A;
    --green-700: #15803D;
    --green-800: #166534;
    --green-900: #14532D;
    --green-950: #0A2A0F;

    --lime-50: #F7FEE7;
    --lime-100: #ECFCCB;
    --lime-200: #D9F99D;
    --lime-300: #BEF264;
    --lime-400: #A3E635;
    --lime-500: #C8FE28;
    --lime-600: #65A30D;
    --lime-700: #4D7C0F;
    --lime-800: #365314;
    --lime-900: #1A2E05;
    --lime-950: #14250A;

    /* Enhanced System Variables */
    --background: var(--white);
    --foreground: var(--grey-950);
    --card: var(--white);
    --card-foreground: var(--grey-950);
    --card-hover: var(--grey-50);
    --popover: var(--white);
    --popover-foreground: var(--grey-950);
    --primary: var(--primary-500);
    --primary-foreground: var(--white);
    --primary-hover: var(--primary-600);
    --primary-active: var(--primary-700);
    --secondary: var(--grey-100);
    --secondary-foreground: var(--grey-900);
    --secondary-hover: var(--grey-200);
    --secondary-active: var(--grey-300);
    --muted: var(--grey-100);
    --muted-foreground: var(--grey-500);
    --muted-hover: var(--grey-200);
    --accent: var(--grey-100);
    --accent-foreground: var(--grey-900);
    --accent-hover: var(--grey-200);
    --destructive: var(--error-500);
    --destructive-foreground: var(--white);
    --destructive-hover: var(--error-600);
    --destructive-active: var(--error-700);
    --border: var(--grey-200);
    --border-hover: var(--grey-300);
    --input: var(--white);
    --input-border: var(--grey-200);
    --input-focus: var(--primary-500);
    --input-error: var(--error-500);
    --ring: var(--primary-500);
    --radius: 0.5rem;

    /* Navigation & Layout */
    --sidebar: var(--white);
    --sidebar-foreground: var(--grey-950);
    --sidebar-accent: var(--grey-100);
    --sidebar-accent-foreground: var(--grey-900);
    --header: var(--white);
    --header-foreground: var(--grey-950);
    --header-border: var(--grey-200);
    --footer: var(--grey-50);
    --footer-foreground: var(--grey-700);

    /* Interactive States */
    --hover-overlay: rgba(0, 0, 0, 0.05);
    --active-overlay: rgba(0, 0, 0, 0.1);
    --focus-ring: var(--primary-500);
    --focus-ring-offset: var(--white);
    --selection-bg: var(--primary-100);
    --selection-text: var(--primary-900);

    /* Shadows */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);
    --shadow-inner: inset 0 2px 4px 0 rgb(0 0 0 / 0.05);

    /* Status indicators */
    --status-online: var(--success-500);
    --status-offline: var(--grey-400);
    --status-busy: var(--error-500);
    --status-away: var(--warning-500);
    --status-dnd: var(--error-600);
  }

  .dark {
    /* Enhanced System Variables - Dark Mode */
    --background: var(--grey-950);
    --foreground: var(--grey-50);
    --card: var(--grey-900);
    --card-foreground: var(--grey-50);
    --card-hover: var(--grey-800);
    --popover: var(--grey-900);
    --popover-foreground: var(--grey-50);
    --primary: var(--primary-400);
    --primary-foreground: var(--grey-950);
    --primary-hover: var(--primary-300);
    --primary-active: var(--primary-200);
    --secondary: var(--grey-800);
    --secondary-foreground: var(--grey-200);
    --secondary-hover: var(--grey-700);
    --secondary-active: var(--grey-600);
    --muted: var(--grey-800);
    --muted-foreground: var(--grey-400);
    --muted-hover: var(--grey-700);
    --accent: var(--grey-800);
    --accent-foreground: var(--grey-200);
    --accent-hover: var(--grey-700);
    --destructive: var(--error-500);
    --destructive-foreground: var(--grey-50);
    --destructive-hover: var(--error-400);
    --destructive-active: var(--error-300);
    --border: var(--grey-800);
    --border-hover: var(--grey-700);
    --input: var(--grey-900);
    --input-border: var(--grey-700);
    --input-focus: var(--primary-400);
    --input-error: var(--error-400);
    --ring: var(--primary-400);

    /* Navigation & Layout - Dark Mode */
    --sidebar: var(--grey-950);
    --sidebar-foreground: var(--grey-100);
    --sidebar-accent: var(--grey-800);
    --sidebar-accent-foreground: var(--grey-200);
    --header: var(--grey-950);
    --header-foreground: var(--grey-100);
    --header-border: var(--grey-800);
    --footer: var(--grey-900);
    --footer-foreground: var(--grey-300);

    /* Interactive States - Dark Mode */
    --hover-overlay: rgba(255, 255, 255, 0.05);
    --active-overlay: rgba(255, 255, 255, 0.1);
    --focus-ring: var(--primary-400);
    --focus-ring-offset: var(--grey-950);
    --selection-bg: var(--primary-800);
    --selection-text: var(--primary-100);

    /* Shadows - Dark Mode */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
    --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.4), 0 1px 2px -1px rgb(0 0 0 / 0.4);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.4), 0 2px 4px -2px rgb(0 0 0 / 0.4);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.4), 0 4px 6px -4px rgb(0 0 0 / 0.4);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.4), 0 8px 10px -6px rgb(0 0 0 / 0.4);
    --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.5);
    --shadow-inner: inset 0 2px 4px 0 rgb(0 0 0 / 0.2);

    /* State Colors - Dark Mode Adjustments */
    --success-500: #4ADE80;
    --error-500: #F87171;
    --warning-500: #FBBF24;
    --info-500: #60A5FA;

    /* Category Colors - Dark Mode Adjustments for better contrast */
    --orange-500: #FB923C;
    --red-500: #F87171;
    --pink-500: #F472B6;
    --sky-500: #38BDF8;
    --purple-500: #C084FC;
    --green-500: #4ADE80;
    --lime-500: #A3E635;

    /* Status indicators - Dark Mode */
    --status-online: var(--success-400);
    --status-offline: var(--grey-500);
    --status-busy: var(--error-400);
    --status-away: var(--warning-400);
    --status-dnd: var(--error-500);
  }

  /* High contrast mode enhancements */
  @media (prefers-contrast: high) {
    :root {
      --border: var(--grey-900);
      --input-border: var(--grey-900);
      --header-border: var(--grey-900);
    }

    .dark {
      --border: var(--grey-100);
      --input-border: var(--grey-100);
      --header-border: var(--grey-100);
    }
  }

  /* Global styles with theme support */
  * {
    border-color: var(--border);
  }

  body {
    background-color: var(--background);
    color: var(--foreground);
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* Selection styles */
  ::selection {
    background-color: var(--selection-bg);
    color: var(--selection-text);
  }

  ::-moz-selection {
    background-color: var(--selection-bg);
    color: var(--selection-text);
  }

  /* Focus styles */
  :focus-visible {
    outline: 2px solid var(--focus-ring);
    outline-offset: 2px;
  }

  /* Scrollbar styles with theme support */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: var(--muted);
  }

  ::-webkit-scrollbar-thumb {
    background: var(--muted-foreground);
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--foreground);
  }

  /* Chrome autofill styles */
  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  input:-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0 30px var(--card) inset !important;
    -webkit-text-fill-color: var(--card-foreground) !important;
  }
}

/* Enhanced component styles with better theme support */
@layer components {
  /* Button Components with enhanced states */
  .btn {
    @apply inline-flex items-center justify-center rounded-md text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 disabled:cursor-not-allowed;
    min-height: 2.25rem;
    font-weight: 500;
  }

  .btn-xs { @apply h-6 px-2 text-xs; }
  .btn-sm { @apply h-8 px-3 text-xs; }
  .btn-lg { @apply h-11 px-8; }
  .btn-xl { @apply h-12 px-10 text-base; }

  .btn-primary {
    background-color: var(--primary);
    color: var(--primary-foreground);
    box-shadow: var(--shadow-sm);
  }
  .btn-primary:hover:not(:disabled) {
    background-color: var(--primary-hover);
    box-shadow: var(--shadow);
  }
  .btn-primary:active:not(:disabled) {
    background-color: var(--primary-active);
    transform: translateY(1px);
  }

  .btn-secondary {
    background-color: var(--secondary);
    color: var(--secondary-foreground);
    border: 1px solid var(--border);
    box-shadow: var(--shadow-sm);
  }
  .btn-secondary:hover:not(:disabled) {
    background-color: var(--secondary-hover);
    border-color: var(--border-hover);
  }
  .btn-secondary:active:not(:disabled) {
    background-color: var(--secondary-active);
  }

  .btn-destructive {
    background-color: var(--destructive);
    color: var(--destructive-foreground);
    box-shadow: var(--shadow-sm);
  }
  .btn-destructive:hover:not(:disabled) {
    background-color: var(--destructive-hover);
    box-shadow: var(--shadow);
  }
  .btn-destructive:active:not(:disabled) {
    background-color: var(--destructive-active);
  }

  .btn-ghost {
    background-color: transparent;
    color: var(--foreground);
    border: 1px solid transparent;
  }
  .btn-ghost:hover:not(:disabled) {
    background-color: var(--accent);
    color: var(--accent-foreground);
  }
  .btn-ghost:active:not(:disabled) {
    background-color: var(--accent-hover);
  }

  .btn-outline {
    background-color: transparent;
    border: 1px solid var(--border);
    color: var(--foreground);
  }
  .btn-outline:hover:not(:disabled) {
    background-color: var(--accent);
    color: var(--accent-foreground);
    border-color: var(--border-hover);
  }
  .btn-outline:active:not(:disabled) {
    background-color: var(--accent-hover);
  }

  .btn-link {
    background-color: transparent;
    color: var(--primary);
    text-decoration: underline;
    text-underline-offset: 4px;
  }
  .btn-link:hover:not(:disabled) {
    text-decoration: none;
  }

  /* Enhanced Input Components */
  .input {
    @apply flex h-9 w-full rounded-md px-3 py-1 text-sm transition-all duration-200 file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50;
    background-color: var(--input);
    border: 1px solid var(--input-border);
    color: var(--foreground);
    box-shadow: var(--shadow-sm);
  }
  .input:focus {
    border-color: var(--input-focus);
    --tw-ring-color: var(--input-focus);
    box-shadow: var(--shadow), 0 0 0 1px var(--input-focus);
  }
  .input:hover:not(:focus):not(:disabled) {
    border-color: var(--border-hover);
  }
  .input.error {
    border-color: var(--input-error);
    --tw-ring-color: var(--input-error);
  }
  .input.error:focus {
    box-shadow: var(--shadow), 0 0 0 1px var(--input-error);
  }

  /* Textarea Component */
  .textarea {
    @apply flex min-h-[80px] w-full rounded-md px-3 py-2 text-sm transition-all duration-200 placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50 resize-none;
    background-color: var(--input);
    border: 1px solid var(--input-border);
    color: var(--foreground);
    box-shadow: var(--shadow-sm);
  }
  .textarea:focus {
    border-color: var(--input-focus);
    --tw-ring-color: var(--input-focus);
    box-shadow: var(--shadow), 0 0 0 1px var(--input-focus);
  }

  /* Select Component */
  .select {
    @apply flex h-9 w-full items-center justify-between rounded-md px-3 py-1 text-sm transition-all duration-200 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50;
    background-color: var(--input);
    border: 1px solid var(--input-border);
    color: var(--foreground);
    box-shadow: var(--shadow-sm);
  }
  .select:focus {
    border-color: var(--input-focus);
    --tw-ring-color: var(--input-focus);
    box-shadow: var(--shadow), 0 0 0 1px var(--input-focus);
  }

  /* Card Components with enhanced variants */
  .card {
    background-color: var(--card);
    color: var(--card-foreground);
    box-shadow: var(--shadow);
    @apply rounded-lg border border-border transition-all duration-200;
  }
  .card:hover {
    background-color: var(--card-hover);
  }

  .card-interactive {
    @apply card cursor-pointer;
  }
  .card-interactive:hover {
    box-shadow: var(--shadow-md);
    transform: translateY(-1px);
  }
  .card-interactive:active {
    transform: translateY(0);
    box-shadow: var(--shadow);
  }

  .card-elevated {
    box-shadow: var(--shadow-lg);
  }

  .card-header {
    @apply flex flex-col space-y-1.5 p-6;
  }

  .card-title {
    @apply text-2xl font-semibold leading-none tracking-tight;
  }

  .card-description {
    @apply text-sm text-muted-foreground;
  }

  .card-content {
    @apply p-6 pt-0;
  }

  .card-footer {
    @apply flex items-center p-6 pt-0;
  }

  /* Enhanced Alert Components */
  .alert {
    @apply relative w-full rounded-lg border px-4 py-3 text-sm transition-all duration-200;
    background-color: var(--card);
    border-color: var(--border);
    color: var(--card-foreground);
  }

  .alert-success {
    border-color: var(--success-500);
    background-color: var(--success-50);
    color: var(--success-700);
  }
  .dark .alert-success {
    background-color: var(--success-950);
    color: var(--success-200);
    border-color: var(--success-600);
  }

  .alert-error {
    border-color: var(--error-500);
    background-color: var(--error-50);
    color: var(--error-700);
  }
  .dark .alert-error {
    background-color: var(--error-950);
    color: var(--error-200);
    border-color: var(--error-600);
  }

  .alert-warning {
    border-color: var(--warning-500);
    background-color: var(--warning-50);
    color: var(--warning-700);
  }
  .dark .alert-warning {
    background-color: var(--warning-950);
    color: var(--warning-200);
    border-color: var(--warning-600);
  }

  .alert-info {
    border-color: var(--info-500);
    background-color: var(--info-50);
    color: var(--info-700);
  }
  .dark .alert-info {
    background-color: var(--info-950);
    color: var(--info-200);
    border-color: var(--info-600);
  }

  /* Enhanced Badge Components */
  .badge {
    @apply inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors;
    background-color: var(--secondary);
    color: var(--secondary-foreground);
  }

  .badge-outline {
    @apply border;
    background-color: transparent;
    border-color: var(--border);
    color: var(--foreground);
  }

  .badge-secondary {
    background-color: var(--secondary);
    color: var(--secondary-foreground);
  }

  .badge-success {
    background-color: var(--success-500);
    color: var(--white);
  }
  .badge-success.badge-outline {
    background-color: transparent;
    border-color: var(--success-500);
    color: var(--success-500);
  }

  .badge-error {
    background-color: var(--error-500);
    color: var(--white);
  }
  .badge-error.badge-outline {
    background-color: transparent;
    border-color: var(--error-500);
    color: var(--error-500);
  }

  .badge-warning {
    background-color: var(--warning-500);
    color: var(--grey-900);
  }
  .badge-warning.badge-outline {
    background-color: transparent;
    border-color: var(--warning-500);
    color: var(--warning-500);
  }

  .badge-info {
    background-color: var(--info-500);
    color: var(--white);
  }
  .badge-info.badge-outline {
    background-color: transparent;
    border-color: var(--info-500);
    color: var(--info-500);
  }

  /* Enhanced Navigation Components */
  .nav-item {
    @apply flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-all duration-200 relative;
    color: var(--sidebar-foreground);
  }
  .nav-item:hover:not(.active) {
    background-color: var(--sidebar-accent);
    color: var(--sidebar-accent-foreground);
  }
  .nav-item.active {
    background-color: var(--primary);
    color: var(--primary-foreground);
    box-shadow: var(--shadow-sm);
  }
  .nav-item.active::before {
    content: '';
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    width: 3px;
    height: 16px;
    background-color: var(--primary-foreground);
    border-radius: 0 2px 2px 0;
  }

  /* Dropdown Components */
  .dropdown {
    @apply relative inline-block;
  }

  .dropdown-content {
    @apply absolute right-0 mt-2 w-56 origin-top-right rounded-md shadow-lg z-50;
    background-color: var(--popover);
    border: 1px solid var(--border);
    box-shadow: var(--shadow-lg);
  }

  .dropdown-item {
    @apply block px-4 py-2 text-sm transition-colors cursor-pointer;
    color: var(--popover-foreground);
  }
  .dropdown-item:hover {
    background-color: var(--accent);
    color: var(--accent-foreground);
  }
  .dropdown-item:first-child {
    @apply rounded-t-md;
  }
  .dropdown-item:last-child {
    @apply rounded-b-md;
  }

  .dropdown-separator {
    @apply h-px my-1;
    background-color: var(--border);
  }

  /* Toast/Notification Components */
  .toast {
    @apply pointer-events-auto flex w-full max-w-md items-center justify-between space-x-4 overflow-hidden rounded-md p-6 pr-8 shadow-lg transition-all;
    background-color: var(--card);
    border: 1px solid var(--border);
    color: var(--card-foreground);
  }

  .toast-success {
    border-left: 4px solid var(--success-500);
  }

  .toast-error {
    border-left: 4px solid var(--error-500);
  }

  .toast-warning {
    border-left: 4px solid var(--warning-500);
  }

  .toast-info {
    border-left: 4px solid var(--info-500);
  }

  /* Loading Components */
  .skeleton {
    @apply animate-pulse rounded-md;
    background-color: var(--muted);
  }

  .spinner {
    @apply animate-spin rounded-full border-2 border-muted border-t-primary;
  }

  /* Modal/Dialog Components */
  .modal-overlay {
    @apply fixed inset-0 z-50 flex items-center justify-center;
    background-color: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
  }

  .modal-content {
    @apply relative mx-4 max-h-[90vh] w-full max-w-lg overflow-auto rounded-lg p-6;
    background-color: var(--card);
    border: 1px solid var(--border);
    box-shadow: var(--shadow-2xl);
    color: var(--card-foreground);
  }

  /* Progress Components */
  .progress {
    @apply relative h-2 w-full overflow-hidden rounded-full;
    background-color: var(--muted);
  }

  .progress-bar {
    @apply h-full w-full flex-1 transition-all;
    background-color: var(--primary);
  }

  /* Switch/Toggle Components */
  .switch {
    @apply relative inline-flex h-6 w-11 cursor-pointer items-center rounded-full transition-colors;
    background-color: var(--muted);
  }
  .switch[aria-checked="true"] {
    background-color: var(--primary);
  }

  .switch-thumb {
    @apply pointer-events-none block h-5 w-5 rounded-full shadow-lg ring-0 transition-transform;
    background-color: var(--white);
  }
  .switch[aria-checked="true"] .switch-thumb {
    transform: translateX(20px);
  }
}

/* Enhanced utility classes with theme awareness and accessibility */
@layer utilities {
  /* Typography utilities */
  .text-balance {
    text-wrap: balance;
  }

  .text-pretty {
    text-wrap: pretty;
  }

  /* Enhanced line clamp utilities */
  .line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  .line-clamp-3 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
  }

  .line-clamp-4 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 4;
  }

  /* Custom scrollbar with theme support */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: var(--muted-foreground) transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: var(--muted-foreground);
    border-radius: 3px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: var(--foreground);
  }

  .scrollbar-none {
    scrollbar-width: none;
  }

  .scrollbar-none::-webkit-scrollbar {
    display: none;
  }

  /* Enhanced focus ring utilities */
  .focus-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:ring-0;
    --tw-ring-color: var(--focus-ring);
    --tw-ring-offset-color: var(--focus-ring-offset);
  }

  .focus-ring-primary {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2;
  }

  .focus-ring-destructive {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-destructive focus-visible:ring-offset-2;
  }

  .focus-ring-success {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2;
    --tw-ring-color: var(--success-500);
  }

  .focus-ring-warning {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2;
    --tw-ring-color: var(--warning-500);
  }

  /* Enhanced animation utilities with missing keyframes */
  .animate-in {
    animation: fadeIn 0.2s ease-in-out;
  }

  .animate-out {
    animation: fadeOut 0.2s ease-in-out;
  }

  .animate-slide-up {
    animation: slideUp 0.3s ease-out;
  }

  .animate-slide-down {
    animation: slideDown 0.3s ease-out;
  }

  .animate-slide-in-left {
    animation: slideInLeft 0.3s ease-out;
  }

  .animate-slide-in-right {
    animation: slideInRight 0.3s ease-out;
  }

  .animate-scale-in {
    animation: scaleIn 0.2s ease-out;
  }

  .animate-scale-out {
    animation: scaleOut 0.2s ease-in;
  }

  .animate-bounce-in {
    animation: bounceIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }

  /* Layout utilities */
  .container {
    @apply w-full mx-auto px-4 sm:px-6 lg:px-8;
    max-width: 1280px;
  }

  .container-sm {
    @apply w-full mx-auto px-4;
    max-width: 640px;
  }

  .container-md {
    @apply w-full mx-auto px-4 sm:px-6;
    max-width: 768px;
  }

  .container-lg {
    @apply w-full mx-auto px-4 sm:px-6 lg:px-8;
    max-width: 1024px;
  }

  .container-xl {
    @apply w-full mx-auto px-4 sm:px-6 lg:px-8;
    max-width: 1280px;
  }

  /* Enhanced interactive overlays */
  .hover-overlay {
    position: relative;
  }

  .hover-overlay:hover::before {
    content: '';
    position: absolute;
    inset: 0;
    background-color: var(--hover-overlay);
    border-radius: inherit;
    pointer-events: none;
    z-index: 1;
  }

  .active-overlay {
    position: relative;
  }

  .active-overlay:active::before {
    content: '';
    position: absolute;
    inset: 0;
    background-color: var(--active-overlay);
    border-radius: inherit;
    pointer-events: none;
    z-index: 1;
  }

  .focus-overlay:focus-visible::before {
    content: '';
    position: absolute;
    inset: -2px;
    border: 2px solid var(--focus-ring);
    border-radius: calc(inherit + 2px);
    pointer-events: none;
    z-index: 1;
  }

  /* Enhanced status indicators */
  .status-dot {
    @apply inline-block w-2 h-2 rounded-full;
  }

  .status-dot-sm {
    @apply inline-block w-1.5 h-1.5 rounded-full;
  }

  .status-dot-lg {
    @apply inline-block w-3 h-3 rounded-full;
  }

  .status-online {
    background-color: var(--status-online);
  }

  .status-offline {
    background-color: var(--status-offline);
  }

  .status-busy {
    background-color: var(--status-busy);
  }

  .status-away {
    background-color: var(--status-away);
  }

  .status-dnd {
    background-color: var(--status-dnd);
  }

  /* Enhanced card effects */
  .card-hover {
    @apply transition-all duration-200;
    box-shadow: var(--shadow);
  }

  .card-hover:hover {
    box-shadow: var(--shadow-lg);
    transform: translateY(-2px);
  }

  .card-hover:active {
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
  }

  .card-glow {
    box-shadow: var(--shadow), 0 0 0 1px var(--primary-500);
  }

  .card-glow:hover {
    box-shadow: var(--shadow-lg), 0 0 0 1px var(--primary-500), 0 0 20px var(--primary-200);
  }

  /* Enhanced gradient utilities */
  .gradient-primary {
    background: linear-gradient(135deg, var(--primary-500) 0%, var(--primary-600) 100%);
  }

  .gradient-secondary {
    background: linear-gradient(135deg, var(--secondary) 0%, var(--secondary-hover) 100%);
  }

  .gradient-success {
    background: linear-gradient(135deg, var(--success-500) 0%, var(--success-600) 100%);
  }

  .gradient-error {
    background: linear-gradient(135deg, var(--error-500) 0%, var(--error-600) 100%);
  }

  .gradient-warning {
    background: linear-gradient(135deg, var(--warning-500) 0%, var(--warning-600) 100%);
  }

  .gradient-info {
    background: linear-gradient(135deg, var(--info-500) 0%, var(--info-600) 100%);
  }

  /* Glass morphism effects */
  .glass {
    backdrop-filter: blur(16px) saturate(180%);
    background-color: rgba(255, 255, 255, 0.75);
    border: 1px solid rgba(255, 255, 255, 0.125);
  }

  .dark .glass {
    background-color: rgba(0, 0, 0, 0.75);
    border: 1px solid rgba(255, 255, 255, 0.125);
  }

  .glass-strong {
    backdrop-filter: blur(24px) saturate(200%);
    background-color: rgba(255, 255, 255, 0.85);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  .dark .glass-strong {
    background-color: rgba(0, 0, 0, 0.85);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  /* Category color utilities with enhanced variants */
  .category-orange { background-color: var(--orange-500); }
  .category-red { background-color: var(--red-500); }
  .category-pink { background-color: var(--pink-500); }
  .category-sky { background-color: var(--sky-500); }
  .category-purple { background-color: var(--purple-500); }
  .category-green { background-color: var(--green-500); }
  .category-lime { background-color: var(--lime-500); }

  .category-orange-light { background-color: var(--orange-100); color: var(--orange-800); }
  .category-red-light { background-color: var(--red-100); color: var(--red-800); }
  .category-pink-light { background-color: var(--pink-100); color: var(--pink-800); }
  .category-sky-light { background-color: var(--sky-100); color: var(--sky-800); }
  .category-purple-light { background-color: var(--purple-100); color: var(--purple-800); }
  .category-green-light { background-color: var(--green-100); color: var(--green-800); }
  .category-lime-light { background-color: var(--lime-100); color: var(--lime-800); }

  /* Enhanced text color variants */
  .text-success { color: var(--success-500); }
  .text-error { color: var(--error-500); }
  .text-warning { color: var(--warning-500); }
  .text-info { color: var(--info-500); }
  .text-muted { color: var(--muted-foreground); }
  .text-subtle { color: var(--muted-foreground); opacity: 0.7; }

  /* Enhanced border color variants */
  .border-success { border-color: var(--success-500); }
  .border-error { border-color: var(--error-500); }
  .border-warning { border-color: var(--warning-500); }
  .border-info { border-color: var(--info-500); }

  /* Loading states */
  .loading {
    @apply relative;
  }

  .loading::after {
    content: '';
    position: absolute;
    inset: 0;
    background: var(--card);
    opacity: 0.8;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .loading::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 20px;
    height: 20px;
    border: 2px solid var(--muted);
    border-top: 2px solid var(--primary);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    z-index: 1;
  }

  /* Theme transition utility */
  .theme-transition {
    @apply transition-all duration-300 ease-in-out;
  }

  .theme-transition * {
    @apply transition-colors duration-300 ease-in-out;
  }

  /* Accessibility helpers */
  .sr-only-focusable:focus {
    @apply not-sr-only;
  }

  .focus-visible-only {
    outline: none;
  }

  .focus-visible-only:focus-visible {
    outline: 2px solid var(--focus-ring);
    outline-offset: 2px;
  }

  /* Safe area utilities for mobile */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-left {
    padding-left: env(safe-area-inset-left);
  }

  .safe-right {
    padding-right: env(safe-area-inset-right);
  }

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .btn,
    .input,
    .textarea,
    .select,
    .card {
      border-width: 2px;
    }

    .btn-ghost,
    .btn-outline {
      border-width: 2px;
    }

    .focus-ring:focus-visible,
    .focus-ring-primary:focus-visible,
    .focus-ring-destructive:focus-visible {
      --tw-ring-width: 3px;
    }
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    .animate-in,
    .animate-out,
    .animate-slide-up,
    .animate-slide-down,
    .animate-slide-in-left,
    .animate-slide-in-right,
    .animate-scale-in,
    .animate-scale-out,
    .animate-bounce-in,
    .card-hover,
    .theme-transition,
    .loading::before {
      animation: none;
      transition: none;
      transform: none;
    }

    .card-hover:hover {
      transform: none;
    }
  }

  /* Print styles */
  @media print {
    .card,
    .card-interactive,
    .card-elevated {
      box-shadow: none !important;
      border: 1px solid var(--border) !important;
      transform: none !important;
    }
    
    .btn {
      box-shadow: none !important;
    }

    .glass,
    .glass-strong {
      background-color: var(--card) !important;
      backdrop-filter: none !important;
    }

    .gradient-primary,
    .gradient-secondary,
    .gradient-success,
    .gradient-error,
    .gradient-warning,
    .gradient-info {
      background: var(--muted) !important;
    }
  }
}

/* Enhanced keyframes for animations */
@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes scaleOut {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.95);
  }
}

@keyframes bounceIn {
  from {
    opacity: 0;
    transform: scale(0.3);
  }
  50% {
    opacity: 1;
    transform: scale(1.05);
  }
  70% {
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}